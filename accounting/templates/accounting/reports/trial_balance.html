{% extends "common_data/page/pdf_page.html" %} {% block page_contents %}
{% load accounting %}
<style>
    .table td{
        padding: 15px;
    }
    .table th{
        padding: 20px;
        color: white;
        background-color: black;
    }
    .btn {
        padding: 10px;
        border-radius: 10px;
        color: white;
        text-decoration: none;
    }

    .btn-danger {
        background-color: red;
    }
    .btn-success{
        background-color: green;
    }
 
</style>
<table class="table" style="width:100%">
    <tbody>
        <tr>
            <td style="width:50%">
                <img src="/media/{{logo}}" alt="Logo" width='250' height='180'>
            </td>
            <td>
                <h2>{{business_name}}</h2>
                <hr class="my-2">
                <p>{{business_address | linebreaks }}</p>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <center>
                    <h1>Trial Balance Report</h1>
                    <h4>As At: {{date}}</h4>
                </center>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                {% for page in pages %}
                <table style="width:100%;">
                    <thead>
                        <tr>
                            <th>Account Code</th>
                            <th>Account Title</th>
                            <th>Debit</th>
                            <th>Credit</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for acc in page %}
                        <tr>
                            <td>{{acc.pk}}</td>
                            <td>{{acc.name}}</td>
                            <td>{{acc.debit | accounting}}</td>
                            <td>{{acc.credit | accounting}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    {% if not page.has_next %}
                    <tfoot>
                        <tr>
                            <th colspan="2">Total</th>
                            <th>{{total_debit | accounting}}</th>
                            <th>{{total_credit | accounting}}</th>
                        </tr>
                    </tfoot>
                    {% endif %}
                </table>
                <p>{{page}}</p>
                {% if page.has_next %}
                <p style="page-break-before:always"></p>
                {% endif %}
                {% endfor %}
            </td>
        </tr>
    </tbody>
</table>

<p>Inventory at {{date}} was valued at ${{inventory_value  | accounting}}</p>

{% if pdf_link %}
    <a href="{% url 'accounting:trial-balance-csv' %}" class="btn btn-success">Export as csv</a>
    <a href="{% url 'accounting:trial-balance-pdf' %}" class="btn btn-danger">Generate PDF</a>
{% endif %}

{% endblock page_contents %}