<style>
    .my-modal{
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
        } 

        .modal-header {
             background-color: #007bff;
             width: 100%;
             min-height: 50px;
        }

        .modal-content{
            background-color: #eee;
            margin: 10px auto;
            padding: 5px;
            width: 80%;
            height: 80%;
        }   

        .frame-style {
            width: 100%;
            height: 100%
        }

        
</style>

<div class="my-modal" id="id-my-modal">
    <div class="modal-content">
        <div class="modal-header">
            <button onclick="closeModal()" style="float:right;" class="btn btn-sm btn-danger"><i class="fas fa-times"></i></button>
        </div>
        <iframe class="frame-style" frameborder="0" id="popup-frame" src=""></iframe>
    </div>
</div>

<script>
var timesLoaded = 0;

    $("iframe").on('load', function(){
        timesLoaded++;
        if(timesLoaded > 2){
            $("#id-my-modal").hide();
            $('#popup-frame').empty();
            timesLoaded = 0;
            
        }
    });

     function inIframe () {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }

    $(document).ready(function(){
        if(inIframe()){
         $("#navbar").hide();
         $("#footer").hide();
         $('a.btn').each(function(){$(this).hide()})
         $(".jumbotron").addClass('shrink')
     }
    })

    function closeModal(){
        if(confirm('Are you sure you want to close this page?')){
            $("#id-my-modal").hide();
            $('#popup-frame').empty();
        }
        
    }

</script>