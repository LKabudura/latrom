{% extends "base.html" %} {% load static %} {% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'common_data/css/page-css/sheets-of-paper-a4.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'common_data/css/document-styles.css' %}"> {% endblock %} {% block window %}
<script>
    function printHandler() {
        $("#jumbo").hide();
        window.print();
        $("#jumbo").show();
    }
</script>
<!-- consolidate later with common_data -->

<div class="jumbotron" id="jumbo">
    <h1 class="display-3">Document preview</h1>
    <p class="lead">Review Document before printing </p>
    <hr class="my-2">
    <p class="lead">
        <button class="btn btn-primary btn-lg" type="button" onclick="printHandler()">Print Document</button>
    </p>
</div>

<div class="page">


    <table style="height:25%">
        <tbody>
            <tr>
                <td style="width:60%">
                    <img width="300" height="100" src="/media/{{logo}}" alt="Logo">
                </td>
                <td>
                    <h1>Pay Slip</h1>
                </td>
            </tr>
            <tr>
                <td>
                    <h4>
                        <b>{{business_name}}</b>
                    </h4>
                </td>
                <td>
                    <p>
                        <b>Start Period:</b> {{object.start_period}}</p>
                    <p>
                        <b>Period:</b> {{object.end_period}}</p>
                </td>
            </tr>
        </tbody>
    </table>
    <div>
        <table>
            <tbody>
                <tr>
                    <th>Employee Full Name:</th>
                    <td>{{object.employee}}</td>
                </tr>
                <tr>
                    <th>Employee Number:</th>
                    <td>{{object.employee.employee_number |stringformat:"06d"}}</td>
                </tr>
                <tr>
                    <th>Employee Grade:</th>
                    <td>{{object.employee.pay_grade}}</td>
                </tr>
                <tr>
                    <th>Earnings YTD:</th>
                    <td>{{object.employee.earnings_YTD | floatformat:2}}</td>
                </tr>
                <tr>
                    <th>Deductions YTD:</th>
                    <td>{{object.employee.deductions_YTD | floatformat:2}}</td>
                </tr>
                <tr>
                        <th>Leave Days:</th>
                        <td>{{object.employee.leave_days}}</td>
                    </tr>
            </tbody>
        </table>
    </div>

    <table style="width:100%;">
        <table>
            <tbody>
                <tr>
                    <td valign="top">
                        <table>
                            <thead>
                                <tr class="text-white" style="background-color:black;">
                                    <th style="padding:20px;">Earnings</th>
                                    <th style="padding:20px;">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>Basic Salary</th>
                                    <td>{{object.employee.pay_grade.monthly_salary | floatformat:2}}</td>
                                </tr>
                                <tr>
                                    <th>Normal Hourly Income</th>
                                    <td>{{object.normal_pay | floatformat:2}}</td>
                                </tr>
                                <tr>
                                        <th>Overtime Hourly Income</th>
                                        <td>{{object.overtime_pay | floatformat:2}}</td>
                                    </tr>
                                <tr style="border-bottom: 2px solid black;">
                                    <th>Total Benefits(breakdown below)</th>
                                    <td>{{object.employee.pay_grade.total_allowances | floatformat:2}}</td>
                                </tr>
                                {% for a in object.employee.pay_grade.allowances.all %}
                                <tr>
                                    <th>{{a.name}}</th>
                                    <td>{{a.amount | floatformat:2}}</td>
                                </tr>
                                {% endfor %}
                                <tr>
                                    <th>Commission</th>
                                    <td>{{object.commission_pay | floatformat:2}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>Gross Eearnings:</th>
                                    <td>{{object.gross_pay | floatformat:2}}</td>
                                </tr>
                            </tfoot>
                        </table>
                    </td>
                    <td valign="top">
                        <table>
                            <thead>
                                <tr class="text-white" style="background-color:black;">
                                    <th style="padding:20px;">Deductions</th>
                                    <th style="padding:20px;">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th colspan=2>Deductions</th>
                                </tr>
                                
                                <tr style="border-bottom: 2px solid black;">
                                    <th>Total Deductions(breakdown below)</th>
                                    <td>{{object.employee.pay_grade.total_deductions | floatformat:2}}</td>
                                </tr>
                                {% for d in object.employee.pay_grade.deductions.all %}
                                <tr>
                                    <th>{{d.name}}</th>
                                    <td>{{d.amount | floatformat:2}}</td>
                                </tr>
                                {% endfor %}
                                <tr>
                                    <th colspan="2">Payroll Taxes</th>
                                </tr>
                                {% for tax in object.calculated_payroll_taxes_list %}
                                <tr>
                                    <td>{{tax.name}}</td>
                                    <td>{{tax.amount | floatformat:2}}</td>
                                </tr>
                                {% endfor %}
                                <tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td>Total Deductions</td>
                                    <td>{{object.total_deductions | floatformat:2}}</td>
                                </tr>
                            </tfoot>
                        </table>
                    </td>
                    </tr>
            </tbody>
            <tfoot>
                <tr style="border:3px solid black;">
                    <th style="padding:10px;">Net Income</th>
                    <th style="padding:10px;text-align:right;">{{object.net_pay | floatformat:2}}</td>
                </tr>
            </tfoot>
        </table>
        <div>
            {% block footer_statements %}{% endblock %}
        </div>

</div>
<thead>
    {% block content_headings %}{% endblock %}


    <div class="page-break"></div>

    {% endblock %}